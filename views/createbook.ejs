<%- include('partials/header') %>

<div class="container">
    <div class="form-container">
        <h1 style="text-align: center; margin-bottom: 2rem;">Publish New Book</h1>
        
        <!-- FIX: Use /createbook instead of /books/createbook -->
        <form action="/createbook" method="POST" enctype="multipart/form-data">
            <div class="form-group">
                <label for="title">
                    <i class="fas fa-heading"></i>
                    Book Title
                </label>
                <input type="text" id="title" name="title" required>
            </div>
            
            <div class="form-group">
                <label for="publisherName">
                    <i class="fas fa-building"></i>
                    Publisher Name
                </label>
                <input type="text" id="publisherName" name="publisherName" required>
            </div>
            
            <div class="form-group">
                <label for="category">
                    <i class="fas fa-tags"></i>
                    Category
                </label>
                <select id="category" name="category" required>
                    <option value="">Select a category</option>
                    <% categories.forEach(category => { %>
                        <option value="<%= category %>"><%= category %></option>
                    <% }) %>
                </select>
            </div>
            
            <div class="form-group">
                <label for="description">
                    <i class="fas fa-align-left"></i>
                    Description
                </label>
                <textarea id="description" name="description" rows="5" required></textarea>
            </div>
            
            <div class="form-group">
                <label for="coverImage">
                    <i class="fas fa-image"></i>
                    Cover Image
                </label>
                <input type="file" id="coverImage" name="coverImage" accept="image/*">
                <small>Upload a cover image (JPEG, PNG)</small>
            </div>
            
            <div class="form-group">
                <label for="bookFile">
                    <i class="fas fa-file-pdf"></i>
                    Book File
                </label>
                <input type="file" id="bookFile" name="bookFile" accept=".pdf,.doc,.docx,.txt" required>
                <small>Upload your book file (PDF, DOC, TXT)</small>
            </div>
            
            <div class="form-actions">
                <a href="/homepage" class="btn-secondary">Cancel</a>
                <button type="submit" class="btn-primary">
                    Create Book
                </button>
            </div>
        </form>
    </div>
</div>

<%- include('partials/footer') %>